'use client'
import React from 'react'
import { Card, CardContent, Typography, Grid, Box, Stack, Button } from '@mui/material'
import { useRouter } from 'next/navigation'
import CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline'

const approvers = [
  {
    name: 'Software Engineer',
    requests: 10,
    requestType: 'Resignation',
    daysSinceCreated: 2,
    warning: '2 days remaining',
    warningColor: '#4caf50',
    approvalLevels: ['Branch Manager', 'HR Manager', 'Director'],
    branchDetails: 'Branch A',
    bubblePositionsCount: 4
  },
  {
    name: 'Operations Manager',
    requests: 5,
    requestType: 'Manual Creation',
    daysSinceCreated: 5,
    warning: '5 days remaining',
    warningColor: '#ff9800',
    approvalLevels: ['HR Manager', 'Director'],
    branchDetails: 'Branch B',
    bubblePositionsCount: 3
  },
  {
    name: 'Sales Executive',
    requests: 3,
    requestType: 'Business Expansion',
    daysSinceCreated: 8,
    warning: '8 days remaining',
    warningColor: '#f44336',
    approvalLevels: ['Director'],
    branchDetails: 'Branch C',
    bubblePositionsCount: 2
  }
]

const DesignationDashboard = () => {
  const router = useRouter()

  const handleCardClick = (approverName: string) => {
    router.push(`/details/${approverName}`)
  }

  const handleApproveAll = () => {
    alert('All requests approved!')
  }

  return (
    <Box sx={{ padding: 4, backgroundColor: '#f5f5f5', minHeight: '100vh' }}>
      {/* Header with Approve Button on the Right */}
      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 4 }}>
        <Typography variant='h4' sx={{ fontWeight: 'bold', color: '#333' }}>
          Designation Dashboard
        </Typography>
        <Button
          variant='contained'
          color='primary'
          size='large'
          startIcon={<CheckCircleOutlineIcon />}
          onClick={handleApproveAll}
        >
          Approve All Requests
        </Button>
      </Box>

      <Grid container spacing={4}>
        {approvers.map((approver, index) => (
          <Grid item xs={12} sm={6} md={4} key={index}>
            <Card
              onClick={() => handleCardClick(approver.name)}
              sx={{
                cursor: 'pointer',
                borderRadius: 4,
                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',
                transition: 'transform 0.3s, box-shadow 0.3s',
                '&:hover': {
                  transform: 'scale(1.05)',
                  boxShadow: '0 8px 24px rgba(0, 0, 0, 0.2)'
                },
                padding: 2
              }}
            >
              <CardContent>
                <Typography variant='h6' sx={{ fontWeight: 'bold', color: '#333' }}>
                  {approver.name}
                </Typography>
                <Typography variant='body1' sx={{ marginTop: 1, color: '#555' }}>
                  <strong>Request Type:</strong> {approver.requestType}
                </Typography>
                <Typography variant='body1' sx={{ marginTop: 1, color: '#555' }}>
                  <strong>Requests:</strong> <span style={{ fontWeight: 'bold' }}>{approver.requests}</span>
                </Typography>

                {/* Warning message at the bottom */}
                <Typography variant='body2' sx={{ marginTop: 2, color: approver.warningColor, fontWeight: 'bold' }}>
                  {approver.warning}
                </Typography>

                <Box sx={{ marginTop: 2, borderTop: '1px solid #e0e0e0', paddingTop: 1 }}>
                  <Typography variant='body2' sx={{ color: '#777' }}>
                    <strong>Branch:</strong> {approver.branchDetails}
                  </Typography>
                  <Typography variant='body2' sx={{ color: '#777' }}>
                    <strong>Bubble Positions:</strong> {approver.bubblePositionsCount}
                  </Typography>
                  <Typography variant='body2' sx={{ color: '#777' }}>
                    <strong>Approval Levels:</strong> {approver.approvalLevels.join(', ')}
                  </Typography>
                </Box>
              </CardContent>
            </Card>
          </Grid>
        ))}
      </Grid>
    </Box>
  )
}

export default DesignationDashboard
