import React from 'react'
import { Card, CardContent, Typography, Box, Grid } from '@mui/material'

interface StatCardProps {
  title: string
  count: string | number
  subtext: string
  overlayColor?: string
  hugCount?: string
  icon?: any
}

const CardBackgroundSVG = ({ fill = '#00B798' }: { fill: string }) => (
  <svg width='238' height='120' viewBox='0 0 238 120' fill='none' xmlns='http://www.w3.org/2000/svg'>
    <rect width='238' height='120' rx='14' fill={fill} />
    <mask id='mask0' style={{ maskType: 'alpha' }} maskUnits='userSpaceOnUse' x='0' y='0' width='238' height='120'>
      <rect width='238' height='120' rx='14' fill={fill} />
    </mask>
    <g mask='url(#mask0)'>
      <g opacity='0.07'>
        <circle cx='205' cy='112.5' r='125.5' stroke='white' />
        <circle cx='205' cy='112.5' r='108.465' stroke='white' />
        <circle cx='205' cy='112.5' r='89.0804' stroke='white' />
        <circle cx='205' cy='112.5' r='69.6958' stroke='white' />
        <circle cx='205' cy='112.5' r='50.8986' stroke='white' />
        <circle cx='205' cy='112.5' r='33.8636' stroke='white' />
        <circle cx='205' cy='112.5' r='20.2342' stroke='white' />
      </g>
    </g>
    <path
      d='M202.417 37C202.417 38.0125 201.596 38.8333 200.583 38.8333C199.571 38.8333 198.75 38.0125 198.75 37C198.75 35.9874 199.571 35.1666 200.583 35.1666C201.596 35.1666 202.417 35.9874 202.417 37Z'
      fill='white'
    />
    <path
      d='M208.833 37C208.833 38.0125 208.013 38.8333 207 38.8333C205.987 38.8333 205.167 38.0125 205.167 37C205.167 35.9874 205.987 35.1666 207 35.1666C208.013 35.1666 208.833 35.9874 208.833 37Z'
      fill='white'
    />
    <path
      d='M215.25 37C215.25 38.0125 214.429 38.8333 213.417 38.8333C212.404 38.8333 211.583 38.0125 211.583 37C211.583 35.9874 212.404 35.1666 213.417 35.1666C214.429 35.1666 215.25 35.9874 215.25 37Z'
      fill='white'
    />
    <rect x='160' y='73' width='53' height='20' rx='4' fill='white' fillOpacity='0.4' />
    <rect x='160.3' y='73.3' width='52.4' height='19.4' rx='3.7' stroke='white' strokeOpacity='0.2' strokeWidth='0.6' />
    <path
      d='M170.696 87.132C170.072 87.128 169.528 87.018 169.064 86.802C168.6 86.582 168.238 86.272 167.978 85.872C167.718 85.472 167.58 85 167.564 84.456H168.83C168.914 84.98 169.126 85.378 169.466 85.65C169.81 85.918 170.232 86.052 170.732 86.052C171.14 86.052 171.492 85.99 171.788 85.866C172.088 85.738 172.32 85.564 172.484 85.344C172.648 85.12 172.73 84.86 172.73 84.564C172.73 84.244 172.64 83.972 172.46 83.748C172.284 83.524 172.04 83.354 171.728 83.238C171.42 83.118 171.074 83.054 170.69 83.046L169.892 83.028V81.96L170.636 81.936C171 81.928 171.322 81.86 171.602 81.732C171.886 81.6 172.108 81.428 172.268 81.216C172.428 81.004 172.508 80.77 172.508 80.514C172.508 80.282 172.436 80.07 172.292 79.878C172.152 79.686 171.948 79.534 171.68 79.422C171.416 79.306 171.098 79.248 170.726 79.248C170.426 79.248 170.14 79.304 169.868 79.416C169.6 79.528 169.378 79.706 169.202 79.95C169.03 80.19 168.936 80.504 168.92 80.892H167.66C167.66 80.312 167.798 79.824 168.074 79.428C168.354 79.028 168.726 78.724 169.19 78.516C169.658 78.308 170.176 78.204 170.744 78.204C171.356 78.204 171.898 78.29 172.37 78.462C172.842 78.634 173.212 78.888 173.48 79.224C173.752 79.56 173.888 79.974 173.888 80.466C173.888 80.894 173.754 81.28 173.486 81.624C173.222 81.964 172.81 82.23 172.25 82.422C172.614 82.522 172.936 82.67 173.216 82.866C173.496 83.058 173.714 83.298 173.87 83.586C174.03 83.874 174.11 84.208 174.11 84.588C174.11 84.992 174.024 85.352 173.852 85.668C173.68 85.984 173.44 86.252 173.132 86.472C172.824 86.692 172.462 86.858 172.046 86.97C171.63 87.082 171.18 87.136 170.696 87.132ZM175.318 87V85.452H176.8V87H175.318ZM178.484 87V86.274V85.89C178.484 85.45 178.566 85.068 178.73 84.744C178.898 84.42 179.118 84.138 179.39 83.898C179.662 83.654 179.96 83.438 180.284 83.25C180.612 83.062 180.938 82.882 181.262 82.71C181.586 82.538 181.884 82.36 182.156 82.176C182.428 81.988 182.646 81.778 182.81 81.546C182.978 81.31 183.062 81.034 183.062 80.718C183.062 80.302 182.916 79.964 182.624 79.704C182.332 79.444 181.936 79.314 181.436 79.314C180.904 79.314 180.472 79.464 180.14 79.764C179.808 80.064 179.616 80.478 179.564 81.006H178.304C178.316 80.49 178.442 80.02 178.682 79.596C178.922 79.172 179.276 78.834 179.744 78.582C180.212 78.33 180.792 78.204 181.484 78.204C182.084 78.204 182.602 78.31 183.038 78.522C183.478 78.73 183.818 79.022 184.058 79.398C184.298 79.774 184.418 80.212 184.418 80.712C184.418 81.156 184.336 81.538 184.172 81.858C184.008 82.178 183.792 82.454 183.524 82.686C183.26 82.918 182.968 83.124 182.648 83.304C182.328 83.48 182.008 83.65 181.688 83.814C181.368 83.974 181.074 84.144 180.806 84.324C180.538 84.5 180.322 84.7 180.158 84.924C179.994 85.148 179.912 85.418 179.912 85.734V85.884H184.448V87H178.484ZM187.081 87.048L192.943 78.228H193.747L187.915 87.048H187.081ZM187.747 83.136C187.347 83.136 186.989 83.032 186.673 82.824C186.357 82.612 186.107 82.322 185.923 81.954C185.743 81.582 185.653 81.156 185.653 80.676C185.653 80.188 185.745 79.758 185.929 79.386C186.113 79.014 186.363 78.722 186.679 78.51C186.995 78.298 187.351 78.192 187.747 78.192C188.143 78.192 188.497 78.298 188.809 78.51C189.125 78.722 189.373 79.014 189.553 79.386C189.733 79.758 189.823 80.188 189.823 80.676C189.823 81.156 189.733 81.582 189.553 81.954C189.377 82.322 189.131 82.612 188.815 82.824C188.503 83.032 188.147 83.136 187.747 83.136ZM187.735 82.44C188.103 82.44 188.383 82.29 188.575 81.99C188.767 81.69 188.863 81.252 188.863 80.676C188.863 80.092 188.765 79.648 188.569 79.344C188.377 79.036 188.099 78.882 187.735 78.882C187.375 78.882 187.097 79.036 186.901 79.344C186.709 79.652 186.613 80.096 186.613 80.676C186.613 81.248 186.709 81.686 186.901 81.99C187.093 82.29 187.371 82.44 187.735 82.44ZM193.249 87.12C192.849 87.12 192.489 87.018 192.169 86.814C191.853 86.606 191.605 86.318 191.425 85.95C191.245 85.578 191.155 85.144 191.155 84.648C191.155 84.16 191.245 83.73 191.425 83.358C191.609 82.986 191.859 82.694 192.175 82.482C192.495 82.27 192.853 82.164 193.249 82.164C193.649 82.164 194.005 82.27 194.317 82.482C194.633 82.694 194.881 82.986 195.061 83.358C195.241 83.73 195.331 84.16 195.331 84.648C195.331 85.144 195.241 85.578 195.061 85.95C194.885 86.318 194.639 86.606 194.323 86.814C194.011 87.018 193.653 87.12 193.249 87.12ZM193.237 86.418C193.605 86.418 193.885 86.268 194.077 85.968C194.269 85.668 194.365 85.232 194.365 84.66C194.365 84.076 194.267 83.632 194.071 83.328C193.879 83.02 193.601 82.866 193.237 82.866C192.877 82.866 192.601 83.02 192.409 83.328C192.217 83.636 192.121 84.08 192.121 84.66C192.121 85.228 192.215 85.664 192.403 85.968C192.595 86.268 192.873 86.418 193.237 86.418Z'
      fill='white'
    />
    <g clipPath='url(#clip0)'>
      <path
        d='M199.333 85.6666L204.667 80.3333'
        stroke='white'
        strokeWidth='0.8'
        strokeLinecap='round'
        strokeLinejoin='round'
      />
      <path
        d='M204.667 85.3616V80.3333H199.638'
        stroke='white'
        strokeWidth='0.8'
        strokeLinecap='round'
        strokeLinejoin='round'
      />
    </g>
    <defs>
      <clipPath id='clip0'>
        <rect width='8' height='8' fill='white' transform='translate(198 79)' />
      </clipPath>
    </defs>
  </svg>
)

const StatCard = ({ title, count, subtext, icon, overlayColor = '#00B798', hugCount }: StatCardProps) => (
  <Card
    sx={{
      width: 238,
      height: 120,
      borderRadius: '14px',
      position: 'relative',
      overflow: 'hidden',
      boxShadow: 'none',
      backgroundColor: 'transparent',
      color: 'white',
      '&:hover': { boxShadow: '0 6px 16px rgba(0,0,0,0.15)', transform: 'translateY(-2px)' },
      transition: 'transform 0.2s ease-in-out'
    }}
  >
    <Box sx={{ position: 'absolute', top: 0, right: 0, zIndex: 0 }}>
      <CardBackgroundSVG fill={overlayColor} />
    </Box>
    <CardContent
      sx={{
        position: 'relative',
        zIndex: 1,
        display: 'flex',
        flexDirection: 'column',
        justifyContent: 'space-between',
        height: '100%',
        padding: '16px'
      }}
    >
      <Box>
        <Typography variant='subtitle2' fontWeight={700} sx={{ opacity: 0.9 }}>
          {title}
        </Typography>
        <Typography variant='h4' fontWeight={700} sx={{ mt: 0.5 }}>
          {count}
        </Typography>
        {hugCount && (
          <Box sx={{ mt: 1 }}>
            <svg width='53' height='20' viewBox='0 0 53 20' fill='none' xmlns='http://www.w3.org/2000/svg'>
              <rect width='53' height='20' rx='4' fill='white' fillOpacity='0.4' />
              <rect
                x='0.3'
                y='0.3'
                width='52.4'
                height='19.4'
                rx='3.7'
                stroke='white'
                strokeOpacity='0.2'
                strokeWidth='0.6'
              />
              <path
                d='M10.696 14.132C10.072 14.128 9.528 14.018 9.064 13.802C8.6 13.582 8.238 13.272 7.978 12.872C7.718 12.472 7.58 12 7.564 11.456H8.83C8.914 11.98 9.126 12.378 9.466 12.65C9.81 12.918 10.232 13.052 10.732 13.052C11.14 13.052 11.492 12.99 11.788 12.866C12.088 12.738 12.32 12.564 12.484 12.344C12.648 12.12 12.73 11.86 12.73 11.564C12.73 11.244 12.64 10.972 12.46 10.748C12.284 10.524 12.04 10.354 11.728 10.238C11.42 10.118 11.074 10.054 10.69 10.046L9.892 10.028V8.96L10.636 8.936C11 8.928 11.322 8.86 11.602 8.732C11.886 8.6 12.108 8.428 12.268 8.216C12.428 8.004 12.508 7.77 12.508 7.514C12.508 7.282 12.436 7.07 12.292 6.878C12.152 6.686 11.948 6.534 11.68 6.422C11.416 6.306 11.098 6.248 10.726 6.248C10.426 6.248 10.14 6.304 9.868 6.416C9.6 6.528 9.378 6.706 9.202 6.95C9.03 7.19 8.936 7.504 8.92 7.892H7.66C7.66 7.312 7.798 6.824 8.074 6.428C8.354 6.028 8.726 5.724 9.19 5.516C9.658 5.308 10.176 5.204 10.744 5.204C11.356 5.204 11.898 5.29 12.37 5.462C12.842 5.634 13.212 5.888 13.48 6.224C13.752 6.56 13.888 6.974 13.888 7.466C13.888 7.894 13.754 8.28 13.486 8.624C13.222 8.964 12.81 9.23 12.25 9.422C12.614 9.522 12.936 9.67 13.216 9.866C13.496 10.058 13.714 10.298 13.87 10.586C14.03 10.874 14.11 11.208 14.11 11.588C14.11 11.992 14.024 12.352 13.852 12.668C13.68 12.984 13.44 13.252 13.132 13.472C12.824 13.692 12.462 13.858 12.046 13.97C11.63 14.082 11.18 14.136 10.696 14.132ZM15.3178 14V12.452H16.7998V14H15.3178ZM18.4838 14V13.274V12.89C18.4838 12.45 18.5658 12.068 18.7298 11.744C18.8978 11.42 19.1178 11.138 19.3898 10.898C19.6618 10.654 19.9598 10.438 20.2838 10.25C20.6118 10.062 20.9378 9.882 21.2618 9.71C21.5858 9.538 21.8838 9.36 22.1558 9.176C22.4278 8.988 22.6458 8.778 22.8098 8.546C22.9778 8.31 23.0618 8.034 23.0618 7.718C23.0618 7.302 22.9158 6.964 22.6238 6.704C22.3318 6.444 21.9358 6.314 21.4358 6.314C20.9038 6.314 20.4718 6.464 20.1398 6.764C19.8078 7.064 19.6158 7.478 19.5638 8.006H18.3038C18.3158 7.49 18.4418 7.02 18.6818 6.596C18.9218 6.172 19.2758 5.834 19.7438 5.582C20.2118 5.33 20.7918 5.204 21.4838 5.204C22.0838 5.204 22.6018 5.31 23.0378 5.522C23.4778 5.73 23.8178 6.022 24.0578 6.398C24.2978 6.774 24.4178 7.212 24.4178 7.712C24.4178 8.156 24.3358 8.538 24.1718 8.858C24.0078 9.178 23.7918 9.454 23.5238 9.686C23.2598 9.918 22.9678 10.124 22.6478 10.304C22.3278 10.48 22.0078 10.65 21.6878 10.814C21.3678 10.974 21.0738 11.144 20.8058 11.324C20.5378 11.5 20.3218 11.7 20.1578 11.924C19.9938 12.148 19.9118 12.418 19.9118 12.734V12.884H24.4478V14H18.4838ZM27.0812 14.048L32.9432 5.228H33.7472L27.9152 14.048H27.0812ZM27.7472 10.136C27.3472 10.136 26.9892 10.032 26.6732 9.824C26.3572 9.612 26.1072 9.322 25.9232 8.954C25.7432 8.582 25.6532 8.156 25.6532 7.676C25.6532 7.188 25.7452 6.758 25.9292 6.386C26.1132 6.014 26.3632 5.722 26.6792 5.51C26.9952 5.298 27.3512 5.192 27.7472 5.192C28.1432 5.192 28.4972 5.298 28.8092 5.51C29.1252 5.722 29.3732 6.014 29.5532 6.386C29.7332 6.758 29.8232 7.188 29.8232 7.676C29.8232 8.156 29.7332 8.582 29.5532 8.954C29.3772 9.322 29.1312 9.612 28.8152 9.824C28.5032 10.032 28.1472 10.136 27.7472 10.136ZM27.7352 9.44C28.1032 9.44 28.3832 9.29 28.5752 8.99C28.7672 8.69 28.8632 8.252 28.8632 7.676C28.8632 7.092 28.7652 6.648 28.5692 6.344C28.3772 6.036 28.0992 5.882 27.7352 5.882C27.3752 5.882 27.0972 6.036 26.9012 6.344C26.7092 6.652 26.6132 7.096 26.6132 7.676C26.6132 8.248 26.7092 8.686 26.9012 8.99C27.0932 9.29 27.3712 9.44 27.7352 9.44ZM33.2492 14.12C32.8492 14.12 32.4892 14.018 32.1692 13.814C31.8532 13.606 31.6052 13.318 31.4252 12.95C31.2452 12.578 31.1552 12.144 31.1552 11.648C31.1552 11.16 31.2452 10.73 31.4252 10.358C31.6092 9.986 31.8592 9.694 32.1752 9.482C32.4952 9.27 32.8532 9.164 33.2492 9.164C33.6492 9.164 34.0052 9.27 34.3172 9.482C34.6332 9.694 34.8812 9.986 35.0612 10.358C35.2412 10.73 35.3312 11.16 35.3312 11.648C35.3312 12.144 35.2412 12.578 35.0612 12.95C34.8852 13.318 34.6392 13.606 34.3232 13.814C34.0112 14.018 33.6532 14.12 33.2492 14.12ZM33.2372 13.418C33.6052 13.418 33.8852 13.268 34.0772 12.968C34.2692 12.668 34.3652 12.232 34.3652 11.66C34.3652 11.076 34.2672 10.632 34.0712 10.328C33.8792 10.02 33.6012 9.866 33.2372 9.866C32.8772 9.866 32.6012 10.02 32.4092 10.328C32.2172 10.636 32.1212 11.08 32.1212 11.66C32.1212 12.228 32.2152 12.664 32.4032 12.968C32.5952 13.268 32.8732 13.418 33.2372 13.418Z'
                fill='white'
              />
              <g clipPath='url(#clip0_492_2479)'>
                <path
                  d='M39.3334 12.6666L44.6667 7.33329'
                  stroke='white'
                  strokeWidth='0.8'
                  strokeLinecap='round'
                  strokeLinejoin='round'
                />
                <path
                  d='M44.6667 12.3616V7.33329H39.6385'
                  stroke='white'
                  strokeWidth='0.8'
                  strokeLinecap='round'
                  strokeLinejoin='round'
                />
              </g>
              <defs>
                <clipPath id='clip0_492_2479'>
                  <rect width='8' height='8' fill='white' transform='translate(38 6)' />
                </clipPath>
              </defs>
            </svg>
          </Box>
        )}
      </Box>
      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
        <Typography variant='caption' sx={{ opacity: 0.9 }}>
          {subtext}
        </Typography>
      </Box>
    </CardContent>
  </Card>
)

const ThreeCardsExample = () => {
  const cards = [
    {
      title: 'Applications',
      count: '1,534',
      subtext: '3.2%',
      hugCount: '53 Hug Ã— 20',
      color: '#00B798'
    },
    { title: 'Shortlisted', count: '869', subtext: '1.98%', color: '#00B798' },
    { title: 'Hired', count: '236', subtext: '4.22%', color: '#00B798' }
  ]

  return (
    <Grid container spacing={2}>
      {cards.map((card, index) => (
        <Grid key={index}>
          <StatCard
            title={card.title}
            count={card.count}
            subtext={card.subtext}
            overlayColor={card.color}
            hugCount={card.hugCount}
          />
        </Grid>
      ))}
    </Grid>
  )
}

export default StatCard
export { ThreeCardsExample }
